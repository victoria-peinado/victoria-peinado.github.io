import{f as r,h as n,q as l,w as d,i,n as a,o as h,Q as f,t as k,v as w}from"./index-Di-Zw_TF.js";async function b(o,e){try{const t=a(r(n,"questionBanks"));return await k(t,{name:e.trim(),ownerId:o,createdAt:w()}),console.log("Question bank created:",t.id),t.id}catch(t){throw console.error("Error creating question bank:",t),new Error("Failed to create question bank")}}async function g(o){if(!o)return[];try{const e=r(n,"questionBanks"),t=l(e,d("ownerId","==",o));return(await i(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error fetching question banks:",e),new Error("Failed to fetch question banks")}}async function y(o){try{const e=f(n),t=r(n,`questionBanks/${o}/questions`);(await i(t)).docs.forEach(u=>{e.delete(u.ref)});const s=a(n,"questionBanks",o);e.delete(s),await e.commit(),console.log(`Successfully deleted bank ${o} and all its questions.`)}catch(e){throw console.error(`Error deleting question bank ${o}:`,e),new Error("Failed to delete question bank.")}}async function B(o){try{const e=a(n,"questionBanks",o),t=await h(e);if(!t.exists())throw new Error("Question bank not found");return{id:t.id,...t.data()}}catch(e){throw console.error(`Error fetching bank details ${o}:`,e),new Error("Failed to fetch bank details.")}}export{B as a,b as c,y as d,g};
