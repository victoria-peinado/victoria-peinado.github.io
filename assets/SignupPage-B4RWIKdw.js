import{u as w,j as e,C as v,k as C,l as y,B as N,y as L,N as F,n as P,h as S,t as B}from"./index-Di-Zw_TF.js";import{u as D}from"./useAuthForm-CHir9XPs.js";import{F as k}from"./FullScreenCenter-CVxMyp6E.js";import{L as n}from"./Label-B4QQdoiM.js";import{I as l}from"./Input-BKMhVuRP.js";function T(){const{t:s}=w(),{email:o,setEmail:h,password:a,setPassword:g,confirmPassword:d,setConfirmPassword:x,error:u,setError:t,loading:m,setLoading:c,handlePostSignup:j}=D(),f=async r=>{if(r.preventDefault(),a!==d)return t(s("signup.errorMatch"));t(""),c(!0);try{const i=(await F(o,a)).user,b=P(S,"users",i.uid);await B(b,{email:i.email,isAdmin:!1,createdAt:new Date}),await j(i)}catch(p){t(s("signup.errorFailed")),console.error(p),c(!1)}};return e.jsx(k,{children:e.jsx(v,{children:e.jsxs(C,{className:"p-8",children:[e.jsx(y,{className:"text-center mb-6",children:s("signup.title")}),u&&e.jsx("p",{className:"bg-secondary text-white p-3 rounded-lg text-center mb-4",children:u}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"email",children:s("signup.emailLabel")}),e.jsx(l,{type:"email",id:"email",value:o,onChange:r=>h(r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"password",children:s("signup.passwordLabel")}),e.jsx(l,{type:"password",id:"password",value:a,onChange:r=>g(r.target.value),required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(n,{htmlFor:"confirm-password",children:s("signup.confirmPasswordLabel")}),e.jsx(l,{type:"password",id:"confirm-password",value:d,onChange:r=>x(r.target.value),required:!0})]}),e.jsx(N,{type:"submit",variant:"primary",disabled:m,className:"w-full",children:s(m?"signup.submitButtonLoading":"signup.submitButton")})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-neutral-200",children:[s("signup.loginPrompt")," "," ",e.jsx(L,{to:"/login",className:"font-bold text-primary-light hover:text-primary",children:s("signup.loginLink")})]})})]})})})}export{T as default};
